{"ast":null,"code":"var _jsxFileName = \"/Users/dev/Desktop/splyt-challenge/src/App.jsx\";\nimport React from \"react\";\nimport \"./App.css\";\nimport '../node_modules/antd/dist/antd.css';\nimport Map from \"./components/Map\";\nimport IntegerStep from './components/Slider'; // import data from './data/taxiData.json'\n\nimport dotenv from \"dotenv\";\ndotenv.config();\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      count: 0,\n      totalDrivers: 50,\n      drivers: [],\n      allDrivers: []\n    };\n\n    this.fetchDrivers = () => {\n      const url = \"https://cors-anywhere.herokuapp.com/https://qa-interview-test.qa.splytech.io/api/drivers?latitude=51.5049375&longitude=-0.0964509&count=50\";\n      return fetch(url, {\n        headers: {\n          \"X-Requested-With\": \"none\"\n        }\n      }).then(resp => resp.json());\n    };\n\n    this.onChange = value => {\n      this.setState({\n        count: value\n      });\n      this.updateDrivers(value);\n    };\n\n    this.updateDrivers = count => {\n      const allDrivers = this.state.allDrivers;\n      const updatedDrivers = allDrivers.filter(driver => allDrivers.indexOf(driver) <= count + 1);\n      this.setState({\n        drivers: updatedDrivers\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchDrivers().then(data => {\n      this.setState({\n        allDrivers: data.drivers\n      });\n    });\n  }\n\n  render() {\n    const url = \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=\".concat(process.env.REACT_APP_GOOGLE_MAPS_API_KEY);\n    const lat = 51.5049375;\n    const lng = -0.0964509;\n    const drivers = this.state.drivers.slice(0, this.state.count);\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Map, {\n      isMarkerShown: true,\n      googleMapURL: url,\n      lat: lat,\n      lng: lng,\n      drivers: drivers,\n      loadingElement: React.createElement(\"div\", {\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \" Loading... \"),\n      containerElement: React.createElement(\"div\", {\n        style: {\n          height: \"600px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }),\n      mapElement: React.createElement(\"div\", {\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(IntegerStep, {\n      sliderCountChange: this.onChange,\n      count: this.state.count,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })));\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["/Users/dev/Desktop/splyt-challenge/src/App.jsx"],"names":["React","Map","IntegerStep","dotenv","config","App","Component","state","count","totalDrivers","drivers","allDrivers","fetchDrivers","url","fetch","headers","then","resp","json","onChange","value","setState","updateDrivers","updatedDrivers","filter","driver","indexOf","componentDidMount","data","render","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","lat","lng","slice","height"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport '../node_modules/antd/dist/antd.css'\n\nimport Map from \"./components/Map\";\nimport IntegerStep from './components/Slider'\n// import data from './data/taxiData.json'\n\n\nimport dotenv from \"dotenv\";\ndotenv.config();\n\n\nclass App extends React.Component {\n  \n  state = {\n    count: 0,\n    totalDrivers: 50,\n    drivers: [],\n    allDrivers: []\n  }\n\n  fetchDrivers = () => {\n    const url = `https://cors-anywhere.herokuapp.com/https://qa-interview-test.qa.splytech.io/api/drivers?latitude=51.5049375&longitude=-0.0964509&count=50`;\n    return fetch(url, {\n      headers: {\n        \"X-Requested-With\": \"none\",\n      }\n    }).then(resp => resp.json());\n  };\n\n  componentDidMount() {\n    this.fetchDrivers()\n      .then(data => {\n        this.setState({\n        allDrivers: data.drivers\n      })})\n  };\n\n\n  onChange = value => {\n    this.setState({\n      count: value\n    })\n    this.updateDrivers(value)\n  };\n\n  updateDrivers = (count) => {\n    const {allDrivers} = this.state\n    const updatedDrivers = allDrivers.filter(driver => allDrivers.indexOf(driver) <= count + 1)\n    this.setState({drivers: updatedDrivers})\n  }; \n\n\n  render() {\n    const url = `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${process.env.REACT_APP_GOOGLE_MAPS_API_KEY}`\n    const lat = 51.5049375\n    const lng = -0.0964509\n    const drivers = this.state.drivers.slice(0, this.state.count)\n\n    return (\n      < div className=\"container\" >\n        <Map isMarkerShown={true}\n          googleMapURL={url}\n          lat={lat}\n          lng={lng}\n          drivers={drivers}\n          loadingElement={<div style={{ height: `100%` }}> Loading... </div>}\n          containerElement={<div style={{ height: `600px` }} />}\n          mapElement={<div style={{ height: `100%` }} />} />\n        <div>\n          <IntegerStep sliderCountChange={this.onChange} count={this.state.count} />\n        </div>\n      </div>\n    )\n  }\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}